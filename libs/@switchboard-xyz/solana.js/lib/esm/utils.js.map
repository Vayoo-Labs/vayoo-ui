{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAC1C,OAAO,EAAE,MAAM,IAAI,CAAC;AACpB,OAAO,EAAE,MAAM,IAAI,CAAC;AACpB,OAAO,IAAI,MAAM,MAAM,CAAC;AAExB,MAAM,UAAU,WAAW,CAAC,WAAmB;IAC7C,MAAM,QAAQ,GACZ,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC;QACzD,CAAC,CAAC,WAAW;QACb,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC;YAC7B,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;YACrC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,CAAC,CAAC;IAE5C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;QAC5B,MAAM,OAAO,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;QACnC,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;YACvB,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;SACxC;QACD,EAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;QACrD,OAAO,OAAO,CAAC;KAChB;IAED,OAAO,OAAO,CAAC,aAAa,CAC1B,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAC/D,CAAC;AACJ,CAAC","sourcesContent":["import { Keypair } from '@solana/web3.js';\nimport fs from 'fs';\nimport os from 'os';\nimport path from 'path';\n\nexport function loadKeypair(keypairPath: string): Keypair {\n  const fullPath =\n    keypairPath.startsWith('/') || keypairPath.startsWith('C:')\n      ? keypairPath\n      : keypairPath.startsWith('~')\n      ? os.homedir() + keypairPath.slice(1)\n      : path.join(process.cwd(), keypairPath);\n\n  if (!fs.existsSync(fullPath)) {\n    const keypair = Keypair.generate();\n    const dir = path.dirname(fullPath);\n    if (!fs.existsSync(dir)) {\n      fs.mkdirSync(dir, { recursive: true });\n    }\n    fs.writeFileSync(fullPath, `[${keypair.secretKey}]`);\n    return keypair;\n  }\n\n  return Keypair.fromSecretKey(\n    new Uint8Array(JSON.parse(fs.readFileSync(fullPath, 'utf-8')))\n  );\n}\n"]}