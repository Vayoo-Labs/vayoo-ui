{"version":3,"file":"SwitchboardError.js","sourceRoot":"","sources":["../../src/SwitchboardError.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH,MAAM,OAAO,gBAAgB;IAC3B;;;;;;OAMG;IACH,MAAM,CAAC,QAAQ,CAAC,OAA2B,EAAE,IAAY;QACvD,KAAK,MAAM,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,EAAE,EAAE;YACxC,IAAI,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE;gBACnB,OAAO,IAAI,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;aAC7D;SACF;QACD,MAAM,IAAI,KAAK,CAAC,kDAAkD,IAAI,EAAE,CAAC,CAAC;IAC5E,CAAC;IAsBD,YACE,OAA2B,EAC3B,IAAY,EACZ,IAAY,EACZ,GAAY;QAEZ,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;CACF","sourcesContent":["import { SwitchboardProgram } from './SwitchboardProgram';\n\n/**\n * Switchboard wrapper for anchor program errors.\n */\nexport class SwitchboardError {\n  /**\n   * Converts a numerical error code to a SwitchboardError based on the program\n   * IDL.\n   * @param program the Switchboard program object containing the program IDL.\n   * @param code Error code to convert to a SwitchboardError object.\n   * @return SwitchboardError\n   */\n  static fromCode(program: SwitchboardProgram, code: number): SwitchboardError {\n    for (const e of program.idl.errors ?? []) {\n      if (code === e.code) {\n        return new SwitchboardError(program, e.name, e.code, e.msg);\n      }\n    }\n    throw new Error(`Could not find SwitchboardError for error code ${code}`);\n  }\n\n  /**\n   *  The program containing the Switchboard IDL specifying error codes.\n   */\n  readonly program: SwitchboardProgram;\n\n  /**\n   *  Stringified name of the error type.\n   */\n  readonly name: string;\n\n  /**\n   *  Numerical SwitchboardError representation.\n   */\n  readonly code: number;\n\n  /**\n   *  Message describing this error in detail.\n   */\n  readonly msg?: string;\n\n  private constructor(\n    program: SwitchboardProgram,\n    name: string,\n    code: number,\n    msg?: string\n  ) {\n    this.program = program;\n    this.name = name;\n    this.code = code;\n    this.msg = msg;\n  }\n}\n"]}